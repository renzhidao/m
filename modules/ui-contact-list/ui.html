<div style="display: flex; flex-direction: column; height: 100%;" data-target="#slot-sidebar">
    
    <!-- 1. 还原：个人信息卡片 (固定在顶部) -->
    <div class="my-card" style="padding: 16px; border-bottom: 1px solid var(--line); background: #0e1016;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
            <!-- 头像 -->
            <div id="my-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #2a7cff, #00c6ff); display: grid; place-items: center; font-weight: bold; color: #fff; font-size: 18px; flex-shrink: 0;">我</div>
            
            <div style="flex: 1; min-width: 0;">
                <div id="my-name" style="font-weight: 600; font-size: 16px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">-</div>
                <div style="display: flex; gap: 8px; font-size: 12px; color: var(--sub); align-items: center;">
                    <div id="my-status-dot" style="width: 8px; height: 8px; border-radius: 50%; background: #666;"></div>
                    <span id="my-status-text">离线</span>
                </div>
            </div>
            
            <!-- 设置按钮 (回归原位) -->
            <div id="btn-sidebar-settings" class="btn-icon">⚙️</div>
        </div>
        
        <div style="display: flex; justify-content: space-between; font-size: 12px; color: var(--sub);">
            <span>ID: <span id="my-id" style="font-family: monospace;">-</span></span>
        </div>
    </div>

    <!-- 2. 滚动列表区域 -->
    <div id="contact-list-scroll" style="flex: 1; overflow-y: auto; padding: 8px;">
        <!-- 静态项：公共频道 -->
        <div class="contact-item active" data-id="all" data-name="公共频道" style="padding: 12px; margin-bottom: 4px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
            <div style="width: 36px; height: 36px; background: #2a7cff; border-radius: 50%; display: grid; place-items: center; font-weight: bold; font-size: 14px;">群</div>
            <span>公共频道</span>
        </div>

        <!-- 动态列表容器 -->
        <div id="contact-list-dynamic"></div>
    </div>

    <!-- 模板 -->
    <template id="tpl-contact-item">
        <div class="contact-item" style="padding: 12px; margin-bottom: 4px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
            <div class="avatar" style="width: 36px; height: 36px; background: #555; border-radius: 50%; display: grid; place-items: center; font-size: 14px;"></div>
            <div style="flex: 1;">
                <div class="name" style="font-size: 14px; font-weight: 500;"></div>
                <div class="status" style="font-size: 11px; color: #666;">在线</div>
            </div>
        </div>
    </template>

    <style>
        .contact-item:hover { background: #1f1f1f; }
        .contact-item.active { background: #1f232e; }
    </style>
</div>